<!DOCTYPE html>
<!--
* GLIMMPSE (General Linear Multivariate Model Power and Sample size)
* Copyright (C) 2013 Regents of the University of Colorado.
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public License
* as published by the Free Software Foundation; either version 2
* of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with this program; if not, write to the Free Software
* Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
-->
<html lang="en" ng-app="cbb">

<head>
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
    <LINK REL="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <title>CBB: Colorado Bright Beginnings</title>

    <!--  <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-21939703-1']);
            _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
      <script type="text/javascript"
        src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
      </script>        -->

    <script src="lib/jquery.min.js"></script>
    <script src="lib/jquery-ui.min.js"></script>
    <script src="lib/jquery.form.min.js"></script>
    <script src="lib/highcharts.js"></script>
    <script src="lib/exporting.js"></script>

    <!-- order matters here, so be careful if you edit -->
    <!-- bootstrap plugins - load after jquery -->
    <script src="lib/bootstrap.min.js"></script>
    <!-- Angular.js scripts -->


    <!-- <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.css" type="text/css" rel="stylesheet" />  -->

    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="css/ng-grid.css">
    <link type="text/css" rel="stylesheet" href="css/cbb.css">

    <script>
        $(function() {



//            $( "#guided-accordion" ).accordion({
//                active: false,
//                autoHeight: false,
//                navigation: true
//            });
//            $( "#matrix-accordion" ).accordion({
//                active: false,
//                autoHeight: false,
//                navigation: true
//            });

//
//            window.onbeforeunload = function (event) {
//                var message = 'This action will clear your study design information.  Continue?';
//                if (typeof event == 'undefined') {
//                    event = window.event;
//                }
//                if (event) {
//                    event.returnValue = message;
//                }
//                return message;
//            }
        });

    </script>


</head>

<body>



<div class="container" ng-controller="stateController">
<!-- header bar -->
    <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header ">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#collapsed-header">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                <label class="logo">CBB1.0 (Colorado Bright Beginnings)</label>
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="collapsed-header">


            <ul class="nav navbar-nav navbar-right">

                <li class="vmargin15" >
                    <div class="panel-group" id="nav-accordion" >
                        <div class="panel panel-default">
                            <!-- start menu -->
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#nav-accordion" href="#nav-start">
                                        Start
                                    </a>
                                </h4>
                            </div>
                            <div id="nav-start" class="panel-collapse collapse in">
                                <div class="panel-body">
                                    <div class="{{isActive('/solvingFor') && 'active'}} {{getStateSolvingFor()}}" >
                                        <a href="#/facebook">Facebook</a>
                                    </div>
                                    <div class="{{isActive('/nominalPower') && 'active'}} {{getStateNominalPower()}}" >
                                        <a href="#/youtube"
                                           ng-show="viewAllowed(getStateNominalPower())">Youtube</a>
                                        <label ng-show="!viewAllowed(getStateNominalPower())">Youtube</label>
                                    </div>
                                    <div class="{{isActive('/typeIError') && 'active'}} {{getStateTypeIError()}}" >
                                        <a href="#/{{ viewLanguage }}text">Text</a>
                                    </div>
                                    <div class="{{isActive('/typeIError') && 'active'}} {{getStateTypeIError()}}" >
                                        <a href="#" ng-click="changeLanguage()">Change Language</a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </li>



                <li class="vmargin15" >
                    <div class="panel-group" id="nav-accordion" >
                        <div class="panel panel-default">
                            <!-- general info -->
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" data-parent="#nav-accordion" href="#nav-options">
                                        General Info
                                    </a>
                                </h4>
                            </div>
                            <div id="nav-options" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="{{isActive('/test') && 'active'}} {{getStateStatisticalTest()}}" >
                                        <a href="#/{{ viewLanguage }}tutorial">Tutorial</a>
                                    </div>
                                    <div class="{{isActive('/test') && 'active'}} {{getStateStatisticalTest()}}" >
                                        <a href="#/{{ viewLanguage }}aboutUs">About Us</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <li class="vmargin15" >
                    <div class="panel-group" id="nav-accordion" >
                        <div class="panel panel-default">
                            <!-- contact us -->
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <!-- TODO: disable when results unavailable -->
                                    <a data-toggle="collapse" data-parent="#nav-accordion" href="#nav-results">
                                        Contact Us
                                    </a>
                                </h4>
                            </div>
                            <div id="nav-results" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="{{isActive('/results/report') && 'active'}}" >
                                        <a href="#/{{ viewLanguage }}contactInfo">Contact Us</a>
                                    </div>
                                    <div class="{{isActive('/results/matrices') && 'active'}}" >
                                        <a href="#/{{ viewLanguage }}feedback">Feedback</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </nav>

    <!-- Mode selection screen -->
    <div class="well shaded-box " ng-show="getMode() == undefined">
        <h3>Welcome to CBB</h3>
        <p>
            Please either login or sign up to continue.
        </p>
        <div class="row vmargin15 hpadding0 box  rounded-box" style="border: 0;">
            <div class="col-md-3 col-sm-3 col-xs-6">
                <a href="#/login" class="btn btn-mode"
                   data-ng-click="setMode(cbbConstants.modeGuided)" >
                    Login
                </a>
            </div>
        </div>

        <div class="row vmargin15 hpadding0 box  rounded-box" style="border: 0;">

            <div class="col-md-3 col-sm-3 col-xs-6">
                <a href="#/signUp" class="btn btn-mode"
                   data-ng-click="setMode(cbbConstants.modeMatrix)" >
                    Sign Up
                </a>
            </div>
        </div>
    </div>


    <!-- main Web application panel -->
    <div class="white-box shaded-box rounded-box" ng-show="getMode() != undefined">

    <!-- toolbox menu -->
    <div class="row hpadding30 hmargin15">
        <div class="pull-right">
            <!--div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="toolbar" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-cog"></span>
                    Tools
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu"  role="menu" aria-labelledby="toolbar">
                    <li role="presentation">
                        <form name="saveForm" method='post' action="/file/saveas" target="_blank">
                            <div>
                                <input type="hidden" name="filename" value="study.json"/>
                                <input type="hidden" name="data" value='{{studyDesignJSON}}' />
                            </div>
                            <button role="menuitem" type="submit" data-ng-click="updateStudyDesignJSON()">Save Design</button>
                        </form>
                    </li>
                    <!-- <li role="presentation">
                        <div role="menuitem"  ng-show="getView()==glimmpseConstants.viewTypeResults">
                            <a href="">Save Report</a>
                        </div>
                    </li>    -->
                    <!--li role="presentation">
                        <form name="saveResultsToCSVForm" method='post' action="/file/saveas" target="_blank">
                            <div>
                                <input type="hidden" name="filename" value="results.csv"/>
                                <input type="hidden" name="data" value='{{resultsCSV}}' />
                            </div>
                            <button type="submit" role="menuitem" data-ng-click="updateResultsCSV()">Save Results as CSV</button>
                        </form>
                    </li>
                    <li  role="presentation" class="divider"></li>
                    <li role="presentation">
                        <a href="#" role="menuitem"  data-ng-click="reset()">Cancel</a>
                    </li>
                </ul>
            </div-->
        </div>
    </div>

    <!-- main application page for mobile (small and extra small screens) -->
    <div class="visible-sm visible-xs">
        <div ng-view ng-class="slide" class="padding10"></div>
    </div>

    <!-- main application content-->
    <div class="row hmargin5 padding0 visible-md visible-lg">

        <!-- left nav -->
        <div class="col-md-3">
            <div ng-show="!calculateAllowed()" >
                <!-- The processing dialog -->
                <a href="#" data-ng-click="reset()"
                        class="btn btn-large calculate-button"
                        data-target="#incompleteDialog">Logout</a>
            </div>

        <!-- left nav -->

            </div>


        <!-- main content area with toolbar -->
            <div class="col-md-9 visible-md visible-lg">
                <div class="box rounded-box">
                    <div class="padding10" ng-view=""></div>
            </div>
        </div>
    </div>

        <!-- The processing dialog -->
        <div class="modal fade" id="processingDialog" tabindex="-1"
             role="dialog" aria-labelledby="processingDialogLabel" aria-hidden="{{showProcessing && false}}">
            <div class="modal-dialog rounded-box white-box">
                <div class="modal-body">
                    <div class="processing">Processing</div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="incompleteDialog" tabindex="-1"
             role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog rounded-box white-box">
                <div class="model-content">
                    <div class="modal-header">
                        <h3>The following items are incomplete</h3>
                    </div>
                    <div class="modal-body">
                        <div ng-repeat="view in incompleteViews">
                            {{view}}
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" data-dismiss="modal" aria-hidden="true">OK</button>
                    </div>
                </div>

            </div>
        </div>
    </div>



    <!-- footer -->
    <div class="row">
        <div class="col-md-12 text-center vmargin15">
            <div>Copyright 2013 University of Colorado Denver. CBB is released under the
                <a href="http://www.gnu.org/licenses/gpl-2.0.html">GNU Public License version 2.0</a>.</div>
            <div>
                CBB version 1.0 is funded by FUNDING INFO.
            </div>
        </div>
    </div>

</div>

<script src="lib/angular.min.js"></script>
<script src="lib/angular-touch.js"></script>
<script src="lib/ng-grid-2.0.7.min.js"></script>
<script src="lib/ui-bootstrap-tpls-0.6.0.min.js"></script>
<script src="lib/highcharts-ng.js"></script>

<!-- app specific scripts -->
<script src="js/app.js"></script>
<script src="js/services/matrixUtilities.js"></script>
<script src="js/services/studyDesignService.js"></script>
<script src="js/services/powerService.js"></script>
<script src="js/services/participantService.js"></script>
<script src="js/directives.js"></script>
<script src="js/controllers/controllers.js"></script>


</body>
</html>